<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página Inicial</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f0f2f5;
            padding: 20px;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* MENU LATERAL */
        .sidebar {
            width: 250px;
            background: #1e1e2e;
            color: #fff;
            padding: 20px 0;
        }

        .logo {
            text-align: center;
            margin-bottom: 30px;
            font-size: 24px;
            letter-spacing: 1px;
        }

        /* Botões do menu */
        .menu button {
            width: 100%;
            background: none;
            border: none;
            color: #fff;
            padding: 15px 20px;
            cursor: pointer;
            text-align: left;
            font-size: 16px;
            transition: 0.2s;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }

        .menu button:hover,
        .menu button.active {
            background: #3a3a55;
        }

        .submenu {
            display: none;
            flex-direction: column;
        }

        .submenu button {
            padding-left: 40px;
            background: #2c2c40;
        }

        .submenu button:hover {
            background: #43435e;
        }

        /* ÁREA PRINCIPAL */
        .content {
            flex: 1;
            padding: 40px;
            background: #fff;
            border-radius: 10px 0 0 10px;
            margin: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        h1 {
            margin-bottom: 20px;
            color: #333;
        }

        p {
            font-size: 18px;
            color: #444;
        }

        /* RESPONSIVO */
        @media (max-width: 768px) {
            .container {flex-direction: column;}
            .sidebar {width: 100%;}
            .content {margin: 10px; border-radius: 10px;}
        }
    </style>
</head>
<body>

<div class="container">

    <!-- MENU LATERAL -->
    <div class="sidebar">
        <div class="logo">Página Inicial</div>

        <div class="menu">
            <button id="homeBtn">
                <span>Página Inicial</span>
            </button>

            <button id="readingBtn">
                <span>Reading Test</span> <span>▼</span>
            </button>
            <div class="submenu" id="readingMenu">
                <button>1ª Etapa / First Term</button>
                <button>2ª Etapa / Second Term</button>
            </div>

            <button id="listeningBtn">
                <span>Listening Test</span> <span>▼</span>
            </button>
            <div class="submenu" id="listeningMenu">
                <button data-action="listening1">1ª Etapa / First Term</button>
                <button data-action="listening2">2ª Etapa / Second Term</button>
            </div>

            <button id="compositionBtn">
                <span>Composition</span> <span>▼</span>
            </button>
            <div class="submenu" id="compositionMenu">
                <button>1ª Etapa / First Term</button>
                <button>2ª Etapa / Second Term</button>
            </div>

            <button id="logoutBtn">Sair</button>
        </div>
    </div>

    <!-- CONTEÚDO PRINCIPAL -->
    <div class="content">
        <h1 id="title">Bem-vindo!</h1>
        <p id="text">Selecione uma opção no menu ao lado para continuar.</p>
    </div>

</div>

<script>
const title = document.getElementById("title");
const text = document.getElementById("text");

/* BOTÃO PÁGINA INICIAL */
document.getElementById("homeBtn").addEventListener("click", () => {
    closeAllSubmenus();
    title.textContent = "Bem-vindo!";
    text.textContent = "Selecione uma opção no menu ao lado para continuar.";
});

/* SAIR → VOLTA PARA LOGIN.HTML */
document.getElementById("logoutBtn").addEventListener("click", () => {
    window.location.href = "login.html";
});

/* FUNÇÃO QUE ABRE/FECHA SUBMENUS */
function toggle(menuId, btnId) {
    const menu = document.getElementById(menuId);
    const btn = document.getElementById(btnId);

    const isOpen = menu.style.display === "flex";

    closeAllSubmenus();

    if (!isOpen) {
        menu.style.display = "flex";
        btn.classList.add("active");
    }
}

/* FECHAR TODOS SUBMENUS */
function closeAllSubmenus() {
    document.querySelectorAll(".submenu").forEach(s => s.style.display = "none");
    document.querySelectorAll(".menu button").forEach(b => b.classList.remove("active"));
}

/* CLIQUES NOS BOTÕES PRINCIPAIS */
document.getElementById("readingBtn").onclick = () => toggle("readingMenu", "readingBtn");
document.getElementById("listeningBtn").onclick = () => toggle("listeningMenu", "listeningBtn");
document.getElementById("compositionBtn").onclick = () => toggle("compositionMenu", "compositionBtn");

/* CLIQUES NAS OPÇÕES DAS ETAPAS */
document.querySelectorAll(".submenu button").forEach(btn => {
    btn.addEventListener("click", () => {
        const action = btn.textContent; // Agora pegamos o texto diretamente do botão

        title.textContent = "Você selecionou:";
        text.textContent = action;

        // Fechar os submenus
        closeAllSubmenus();

        // Redirecionar para a página Listening Test ou outra página
        const actionType = btn.getAttribute("data-action");

        if (actionType === "listening1") {
            window.location.href = "listeningtest.html?type=TipoA";
        } else if (actionType === "listening2") {
            window.location.href = "listeningtest.html?type=TipoB";
        }
    });
});
</script>

</body>
</html>
